kind: dashboard
name: Boletim epidemiológico
source: datasus_geo
groups:
  - name: Resumo diário
    sources:
      - datasus_population
      - health_board_situation_report
    filters:
      - date
      - location
    sections:
      - name: Sumário
        data:
          deaths: Database.SituationReport.Deaths.day
          incidence: Database.SituationReport.Incidence.day
          population: Database.Demographic.Population.day
        cards:
          - name: Incidência no dia
            indicator: incidence
            component: Incidence.scalar

          - name: Taxa de incidência no dia
            indicator: incidence_rate
            component: IncidenceRate.scalar

          - name: Óbitos no dia
            indicator: deaths
            component: Deaths.scalar

          - name: Taxa de mortalidade no dia
            indicator: death_rate
            component: DeathRate.scalar

          - name: Taxa de letalidade no dia
            indicator: fatality_rate
            component: FatalityRate.scalar

      - name: Estados em destaque
        data:
          locations_deaths: Database.SituationReport.Deaths.day_states
          locations_incidence: Database.SituationReport.Incidence.day_states
          locations_population: Database.Demographic.Population.day_states
        cards:
          - name: Estados de maior incidência no dia
            indicator: incidence
            component: Incidence.top_ten_locations_table

          - name: Estados de maior taxa de incidência no dia
            indicator: incidence_rate
            component: IncidenceRate.top_ten_locations_table

          - name: Estados de maior número de óbitos no dia
            indicator: deaths
            component: Deaths.top_ten_locations_table

          - name: Estados de maior taxa de mortalidade no dia
            indicator: death_rate
            component: DeathRate.top_ten_locations_table

          - name: Estados de maior taxa de letalidade no dia
            indicator: fatality_rate
            component: FatalityRate.top_ten_locations_table

      - name: Municípios em destaque
        data:
          locations_deaths: Database.SituationReport.Deaths.day_cities
          locations_incidence: Database.SituationReport.Incidence.day_cities
          locations_population: Database.Demographic.Population.day_cities
        cards:
          - name: Municípios de maior incidência no dia
            indicator: incidence
            component: Incidence.top_ten_locations_table

          - name: Municípios de maior taxa de incidência no dia
            indicator: incidence_rate
            component: IncidenceRate.top_ten_locations_table

          - name: Municípios de maior número de óbitos no dia
            indicator: deaths
            component: Deaths.top_ten_locations_table

          - name: Municípios de maior taxa de mortalidade no dia
            indicator: death_rate
            component: DeathRate.top_ten_locations_table

          - name: Municípios de maior taxa de letalidade no dia
            indicator: fatality_rate
            component: FatalityRate.top_ten_locations_table

  - name: Resumo acumulado
    sources:
      - datasus_population
      - health_board_situation_report
    filters:
      - period
      - location
    sections:
      - name: Sumário
        data:
          deaths: Database.SituationReport.Deaths.period
          incidence: Database.SituationReport.Incidence.period
          population: Database.Demographic.Population.period
        cards:
          - name: Incidência no período
            indicator: incidence
            component: Incidence.scalar

          - name: Taxa de incidência no período
            indicator: incidence_rate
            component: IncidenceRate.scalar

          - name: Óbitos no período
            indicator: deaths
            component: Deaths.scalar

          - name: Taxa de mortalidade no período
            indicator: death_rate
            component: DeathRate.scalar

          - name: Taxa de letalidade no período
            indicator: fatality_rate
            component: FatalityRate.scalar

      - name: Mapas
        data:
          locations_deaths: Database.SituationReport.Deaths.period_locations
          locations_incidence: Database.SituationReport.Incidence.period_locations
          locations_population: Database.Demographic.Population.period_locations
        cards:
          - name: Mapa de taxa de incidência no período
            indicator: incidence_rate
            component: IncidenceRate.choropleth_map

          - name: Mapa de taxa de mortalidade no período
            indicator: death_rate
            component: DeathRate.choropleth_map

      - name: Estados em destaque
        data:
          locations_deaths: Database.SituationReport.Deaths.period_states
          locations_incidence: Database.SituationReport.Incidence.period_states
          locations_population: Database.Demographic.Population.period_states
        cards:
          - name: Estados de maior incidência no período
            indicator: incidence
            component: Incidence.top_ten_locations_table

          - name: Estados de maior taxa de incidência no período
            indicator: incidence_rate
            component: IncidenceRate.top_ten_locations_table

          - name: Estados de maior número de óbitos no período
            indicator: deaths
            component: Deaths.top_ten_locations_table

          - name: Estados de maior taxa de mortalidade no período
            indicator: death_rate
            component: DeathRate.top_ten_locations_table

          - name: Estados de maior taxa de letalidade no período
            indicator: fatality_rate
            component: FatalityRate.top_ten_locations_table

      - name: Municípios em destaque
        data:
          locations_deaths: Database.SituationReport.Deaths.period_cities
          locations_incidence: Database.SituationReport.Incidence.period_cities
          locations_population: Database.Demographic.Population.period_cities
        cards:
          - name: Municípios de maior incidência no período
            indicator: incidence
            component: Incidence.top_ten_locations_table

          - name: Municípios de maior taxa de incidência no período
            indicator: incidence_rate
            component: IncidenceRate.top_ten_locations_table

          - name: Municípios de maior número de óbitos no período
            indicator: deaths
            component: Deaths.top_ten_locations_table

          - name: Municípios de maior taxa de mortalidade no período
            indicator: death_rate
            component: DeathRate.top_ten_locations_table

          - name: Municípios de maior taxa de letalidade no período
            indicator: fatality_rate
            component: FatalityRate.top_ten_locations_table

  - name: Epicurvas
    source: health_board_situation_report
    filter: location
    sections:
      - name: Incidência
        indicator: incidence
        data:
          daily_incidence: Database.SituationReport.Incidence.daily
          weekly_incidence: Database.SituationReport.Incidence.weekly
          monthly_incidence: Database.SituationReport.Incidence.monthly
        cards:
          - name: Epicurva de incidência
            component: Incidence.daily_epicurve

          - name: Incidência por semana
            component: Incidence.weekly_chart

          - name: Incidência por mês
            component: Incidence.monthly_chart

      - name: Óbitos
        indicator: deaths
        data:
          daily_deaths: Database.SituationReport.Deaths.daily
          weekly_deaths: Database.SituationReport.Deaths.weekly
          monthly_deaths: Database.SituationReport.Deaths.monthly
        cards:
          - name: Epicurva de óbitos
            component: Deaths.daily_epicurve

          - name: Óbitos por semana
            component: Deaths.weekly_chart

          - name: Óbitos por mês
            component: Deaths.monthly_chart

  - name: Tabela resumo
    section:
      name: Tabela resumo
      card:
        name: Tabela resumo
        component: SituationReport.situation_table
        data:
          day_deaths: Database.SituationReport.Deaths.day
          day_incidence: Database.SituationReport.Incidence.day
          deaths: Database.SituationReport.Deaths.total
          incidence: Database.SituationReport.Incidence.total
          population: Database.Demographic.Population.total
        indicators:
          - incidence
          - incidence_rate
          - deaths
          - death_rate
          - fatality_rate
        sources:
          - health_board_situation_report
          - health_board_hospitalization
          - datasus_population

  - name: Capacidade hospitalar
    section:
      name: Ocupação hospitalar
      card:
        name: Ocupação hospitalar no período
        component: SituationReport.icu_rate_table
        indicator: icu_rate
        source: health_board_hospitalization
        data:
          icu_rates: Database.SituationReport.ICURate.daily_locations
